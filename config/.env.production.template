# Corporate Intelligence Platform - Production Environment Template
# ==================================================================
# CRITICAL: Replace ALL placeholder values before deployment
# This template contains ALL required environment variables for production

# ==============================================================================
# SECURITY CONFIGURATION
# ==============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=REPLACE_WITH_SECURE_RANDOM_KEY_MINIMUM_32_CHARS
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=WARNING

# Session Security
SECURE_COOKIES=true
SESSION_TIMEOUT_MINUTES=30
SESSION_SECRET_KEY=REPLACE_WITH_UNIQUE_SESSION_KEY

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=intel_prod_user
POSTGRES_PASSWORD=REPLACE_WITH_AWS_SECRETS_MANAGER_REFERENCE
POSTGRES_DB=corporate_intel_prod
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Database Pool Configuration
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# TimescaleDB Configuration
TIMESCALE_COMPRESSION_AFTER_DAYS=30
TIMESCALE_RETENTION_YEARS=2
TIMESCALE_CHUNK_TIME_INTERVAL=1 day

# ==============================================================================
# REDIS CACHE CONFIGURATION
# ==============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=REPLACE_WITH_AWS_SECRETS_MANAGER_REFERENCE
REDIS_DB=0
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}
REDIS_CACHE_TTL=3600
REDIS_MAX_CONNECTIONS=50

# ==============================================================================
# MINIO OBJECT STORAGE
# ==============================================================================
MINIO_ENDPOINT=minio:9000
MINIO_ROOT_USER=intel_prod_admin
MINIO_ROOT_PASSWORD=REPLACE_WITH_AWS_SECRETS_MANAGER_REFERENCE
MINIO_SECURE=false
MINIO_BUCKET_DOCUMENTS=corporate-documents-prod
MINIO_BUCKET_REPORTS=analysis-reports-prod
MINIO_BUCKET_BACKUPS=database-backups-prod

# ==============================================================================
# EXTERNAL API KEYS
# ==============================================================================
# Alpha Vantage: https://www.alphavantage.co/support/#api-key
ALPHA_VANTAGE_API_KEY=REPLACE_WITH_API_KEY

# SEC EDGAR API (REQUIRED)
SEC_USER_AGENT=Corporate Intel Platform/1.0 (your-production-email@company.com)
SEC_RATE_LIMIT=10

# NewsAPI (Optional)
NEWSAPI_KEY=REPLACE_WITH_API_KEY_OR_REMOVE

# Crunchbase (Optional)
CRUNCHBASE_API_KEY=REPLACE_WITH_API_KEY_OR_REMOVE

# GitHub (Optional)
GITHUB_TOKEN=REPLACE_WITH_TOKEN_OR_REMOVE

# Yahoo Finance
YAHOO_FINANCE_ENABLED=true

# ==============================================================================
# WORKFLOW ORCHESTRATION
# ==============================================================================
PREFECT_API_URL=http://prefect:4200/api
PREFECT_WORKSPACE=corporate-intel-prod

# ==============================================================================
# DISTRIBUTED COMPUTING
# ==============================================================================
RAY_HEAD_ADDRESS=ray://ray-head:10001
RAY_NUM_CPUS=4
RAY_NUM_GPUS=0

# ==============================================================================
# OBSERVABILITY & MONITORING
# ==============================================================================

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4317
OTEL_SERVICE_NAME=corporate-intel-prod
OTEL_TRACES_ENABLED=true
OTEL_METRICS_ENABLED=true
OTEL_LOGS_ENABLED=true

# Sentry Error Tracking
SENTRY_DSN=REPLACE_WITH_SENTRY_DSN_OR_REMOVE
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# ==============================================================================
# MONITORING SERVICES CREDENTIALS
# ==============================================================================

# Grafana
GRAFANA_PASSWORD=REPLACE_WITH_STRONG_PASSWORD
GRAFANA_ADMIN_USER=admin

# Superset
SUPERSET_SECRET_KEY=REPLACE_WITH_OPENSSL_RAND_BASE64_42
SUPERSET_ADMIN_PASSWORD=REPLACE_WITH_STRONG_PASSWORD

# ==============================================================================
# ALERTING & NOTIFICATIONS
# ==============================================================================

# Slack Integration
SLACK_WEBHOOK_URL=REPLACE_WITH_SLACK_WEBHOOK_URL
SLACK_ALERTS_CHANNEL=#alerts
SLACK_CRITICAL_CHANNEL=#critical-alerts

# PagerDuty
PAGERDUTY_SERVICE_KEY=REPLACE_WITH_PAGERDUTY_KEY
PAGERDUTY_API_KEY=REPLACE_WITH_PAGERDUTY_API_KEY
PAGERDUTY_DB_KEY=REPLACE_WITH_PAGERDUTY_DB_KEY

# Email Notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=REPLACE_WITH_SMTP_USERNAME
SMTP_PASSWORD=REPLACE_WITH_SMTP_PASSWORD
SMTP_FROM=alerts@corporate-intel.com
ALERT_EMAIL_TO=oncall@corporate-intel.com

# ==============================================================================
# BACKUP & DISASTER RECOVERY
# ==============================================================================

# S3 Backup Configuration
S3_BUCKET=s3://corporate-intel-backups-prod/postgres
AWS_ACCESS_KEY_ID=REPLACE_WITH_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=REPLACE_WITH_AWS_SECRET_KEY
AWS_REGION=us-east-1
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *

# Local Backup Directory
BACKUP_DIR=/backups/postgres

# ==============================================================================
# SSL/TLS CONFIGURATION
# ==============================================================================

# Domain Configuration
DOMAIN_NAME=corporate-intel.example.com
SSL_CERTIFICATE_PATH=/etc/letsencrypt/live/${DOMAIN_NAME}/fullchain.pem
SSL_CERTIFICATE_KEY_PATH=/etc/letsencrypt/live/${DOMAIN_NAME}/privkey.pem
LETSENCRYPT_EMAIL=admin@corporate-intel.com

# ==============================================================================
# APPLICATION FEATURES
# ==============================================================================

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=20

# Data Quality
DATA_QUALITY_ENABLED=true
ANOMALY_DETECTION_ENABLED=true

# Embeddings
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
EMBEDDING_BATCH_SIZE=32

# Vector Database
VECTOR_DIMENSION=1536
VECTOR_INDEX_TYPE=ivfflat
VECTOR_LISTS=100

# Cache
CACHE_TTL_SECONDS=3600
CACHE_ENABLED=true

# ==============================================================================
# API CONFIGURATION
# ==============================================================================

# API Settings
API_V1_PREFIX=/api/v1
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS Configuration
CORS_ORIGINS=["https://corporate-intel.example.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET","POST","PUT","DELETE"]
CORS_ALLOW_HEADERS=["*"]

# API Rate Limiting
API_RATE_LIMIT_STANDARD=60
API_RATE_LIMIT_PREMIUM=300

# ==============================================================================
# EDTECH COMPANIES WATCHLIST
# ==============================================================================
EDTECH_COMPANIES_WATCHLIST=["CHGG","COUR","DUOL","TWOU","ARCE","LAUR","INST","POWL"]

# ==============================================================================
# DEPLOYMENT METADATA
# ==============================================================================
DEPLOYMENT_DATE=REPLACE_WITH_DEPLOYMENT_DATE
DEPLOYMENT_VERSION=REPLACE_WITH_VERSION_TAG
DEPLOYMENT_ENVIRONMENT=production
DEPLOYMENT_REGION=us-east-1

# ==============================================================================
# HEALTH CHECKS
# ==============================================================================
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# ==============================================================================
# AWS INTEGRATION (If using AWS)
# ==============================================================================

# AWS Secrets Manager
AWS_SECRETS_MANAGER_ENABLED=true
AWS_SECRETS_MANAGER_SECRET_NAME=corporate-intel-prod-secrets

# AWS CloudWatch
AWS_CLOUDWATCH_ENABLED=true
AWS_CLOUDWATCH_LOG_GROUP=/aws/corporate-intel/prod
AWS_CLOUDWATCH_STREAM_NAME=api-logs

# AWS RDS (If using managed database)
# RDS_ENDPOINT=REPLACE_WITH_RDS_ENDPOINT
# RDS_CA_BUNDLE=/path/to/rds-ca-bundle.pem

# ==============================================================================
# DOCKER CONFIGURATION
# ==============================================================================
COMPOSE_PROJECT_NAME=corporate-intel-prod
COMPOSE_FILE=docker-compose.prod.yml

# ==============================================================================
# NOTES
# ==============================================================================
# 1. Generate all secrets using: openssl rand -base64 32
# 2. Store sensitive values in AWS Secrets Manager or HashiCorp Vault
# 3. Use environment-specific values for each deployment stage
# 4. Never commit actual credentials to version control
# 5. Rotate credentials regularly (minimum every 90 days)
# 6. Test backup restoration before going live
# 7. Configure monitoring alerts before deployment
# 8. Document all API keys and their rate limits
# 9. Set up SSL certificate auto-renewal
# 10. Configure log retention policies
